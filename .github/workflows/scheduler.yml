name: Send Daily Notification

on:
  schedule:
    # This runs at 6:00 AM UTC every day. Change as needed.
    - cron: '0 6 * * *'
  workflow_dispatch: # Allows you to click a button to test it manually

jobs:
  wake_up_supabase:
    runs-on: ubuntu-latest
    steps:
      - name: Trigger Edge Function
        run: |
          curl -X POST 'https://zsjyalitccycsohsysjl.supabase.co/functions/v1/send-notification-by-topics' \
          -H 'Authorization: Bearer ${{ secrets.SUPABASE_KEY }}' \
          -H 'Content-Type: application/json'
